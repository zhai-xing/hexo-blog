<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>Mo Bai • Posts by &#34;linux&#34; category</title>
        <link>https://zhai-xing.github.io/hexo-blog</link>
        <description>欢迎来到墨白的知识小屋，这里你可以阅读我的学习笔记并提出独到的见解~我们将互相学习交流知识，共同进步</description>
        <language>zh-CN</language>
        <pubDate>Tue, 05 Jan 2027 00:00:00 +0800</pubDate>
        <lastBuildDate>Tue, 05 Jan 2027 00:00:00 +0800</lastBuildDate>
        <category>原理</category>
        <category>学习笔记</category>
        <category>java</category>
        <category>linux</category>
        <category>事故排查</category>
        <item>
            <guid isPermalink="true">https://zhai-xing.github.io/hexo-blog/permalink</guid>
            <title>异常排查</title>
            <link>https://zhai-xing.github.io/hexo-blog/permalink</link>
            <category>java</category>
            <category>linux</category>
            <category>事故排查</category>
            <pubDate>Tue, 05 Jan 2027 00:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;day1&#34;&gt;&lt;a href=&#34;#day1&#34; class=&#34;headerlink&#34; title=&#34;day1&#34;&gt;&lt;/a&gt;day1&lt;/h2&gt;&lt;h3 id=&#34;工具：&#34;&gt;&lt;a href=&#34;#工具：&#34; class=&#34;headerlink&#34; title=&#34;工具：&#34;&gt;&lt;/a&gt;工具：&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;java: jstack,jmap,arthas&lt;/li&gt;
&lt;li&gt;jvm: gdb,strace,arthas&lt;/li&gt;
&lt;li&gt;操作系统: perf,bcc,bpftrace&lt;/li&gt;
&lt;li&gt;硬件资源：top,free iostat,iftop&lt;/li&gt;
&lt;li&gt;网络: ngrep  tcpdump&lt;/li&gt;
&lt;li&gt;mysql: perf,gdb,bcc,bptrace,strace&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;排查思路：&#34;&gt;&lt;a href=&#34;#排查思路：&#34; class=&#34;headerlink&#34; title=&#34;排查思路：&#34;&gt;&lt;/a&gt;排查思路：&lt;/h3&gt;&lt;p&gt;资源占用分析视角：&lt;/p&gt;
&lt;p&gt;自低向上：&lt;/p&gt;
&lt;p&gt;硬件资源使用率如何？如果发现某个资源占用率高,逐步向上分析&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;什么进程占用cpu多&lt;/li&gt;
&lt;li&gt;什么线程占用cpu多&lt;/li&gt;
&lt;li&gt;什么代码占用cpu多&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;系统负载分析视角：&lt;/p&gt;
&lt;p&gt;接口的QPS多少，耗时怎么样，有多少报错，&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;controller层耗时高吗&lt;/li&gt;
&lt;li&gt;mappe层处理耗时高吗&lt;/li&gt;
&lt;li&gt;sql执行耗时高吗&lt;/li&gt;
&lt;li&gt;逐步向下分析时间占用&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;排查思路：&lt;/p&gt;
&lt;p&gt;看日志-&amp;gt;资源占用-&amp;gt;排查工具 &lt;/p&gt;
&lt;p&gt;tps：其实80%的问题都会直接在日志中呈现出来，所以有一套日志分析平台很重要&lt;/p&gt;
&lt;h2 id=&#34;day2&#34;&gt;&lt;a href=&#34;#day2&#34; class=&#34;headerlink&#34; title=&#34;day2&#34;&gt;&lt;/a&gt;day2&lt;/h2&gt;&lt;p&gt;如何看日志：&lt;/p&gt;
&lt;p&gt;命令：cat head,tail&lt;/p&gt;
&lt;p&gt;cat：输出文件内容  cat &amp;#x2F;etc&amp;#x2F;t1.txt&lt;/p&gt;
&lt;p&gt;head：查看文件前几行  示例：head -n2  &amp;#x2F;etc&amp;#x2F;t1.txt&lt;/p&gt;
&lt;p&gt;tail 查看文件后几行，-f不断查看新内容 tail -n2  &amp;#x2F;etc&amp;#x2F;t1.txt&lt;/p&gt;
&lt;p&gt;命令：vim&lt;/p&gt;
&lt;p&gt;vim是文本编辑工具。基操&lt;/p&gt;
&lt;p&gt;命令: less&amp;#x2F;more&lt;/p&gt;
&lt;p&gt;分页文件查看器，因此可以查看大日志文件，因为是按需加载文件到内存。推荐使用less，相比more功能更多，&lt;/p&gt;
&lt;p&gt;grep命令：指定搜索关键字，可以从日志中搜索出包含关键字的日志，-i是忽略大小写 示例： grep -i error app.log&lt;/p&gt;
&lt;p&gt;awk命令：&lt;/p&gt;
&lt;p&gt;awk其实是为文本处理的脚本语言，后面简单学一下&lt;/p&gt;
&lt;p&gt;wc 用于对文本文件进行统计&lt;/p&gt;
&lt;p&gt;sort 用于对文本行进行排序与&lt;/p&gt;
&lt;p&gt;uniq 用于对文本去重&lt;/p&gt;
&lt;h2 id=&#34;硬件资源观测&#34;&gt;&lt;a href=&#34;#硬件资源观测&#34; class=&#34;headerlink&#34; title=&#34;硬件资源观测&#34;&gt;&lt;/a&gt;硬件资源观测&lt;/h2&gt;&lt;p&gt;top命令&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.nlark.com/yuque/0/2025/png/39206930/1744816894743-43a8a503-1253-4648-b457-b6bda35425aa.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;红色指标:  系统的负载，分别是1分钟 5分钟15分钟&lt;/p&gt;
&lt;p&gt;黄色：系统任务状态，总任务，运行中，睡眠中，暂停，僵尸任务&lt;/p&gt;
&lt;p&gt;绿色：cpu使用率&lt;/p&gt;
&lt;p&gt;us：非niced进程(用户态)花费的cpu时间占比&lt;/p&gt;
&lt;p&gt;sy：内核进程花费的cpu时间占比&lt;/p&gt;
&lt;p&gt;ni niced进程花费的cpu时间占比&lt;/p&gt;
&lt;p&gt;id：内核空闲进程花费的cpu时间占比&lt;/p&gt;
&lt;p&gt;wa：等待磁盘io完成花费的cpu时间占比&lt;/p&gt;
&lt;p&gt;hi ：处理硬件中断&lt;/p&gt;
&lt;p&gt;si ：处理软件中断&lt;/p&gt;
&lt;p&gt;st：被其他虚拟机偷取的cpu时间占比&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.nlark.com/yuque/0/2025/png/39206930/1744817426818-d5ea7060-68ec-4f7e-8fe9-cbfd027cc879.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;mem&lt;/p&gt;
&lt;p&gt;total 总内存大小&lt;/p&gt;
&lt;p&gt;free：空闲内容大小&lt;/p&gt;
&lt;p&gt;used：使用中的内存大小&lt;/p&gt;
&lt;p&gt;buff&amp;#x2F;cache:用于文件缓存与系统缓存的内存大小&lt;/p&gt;
&lt;p&gt;swap:&lt;/p&gt;
&lt;p&gt;total 总swap文件大小&lt;/p&gt;
&lt;p&gt;free：swap空闲内容大小&lt;/p&gt;
&lt;p&gt;used：swap使用中的内存大小&lt;/p&gt;
&lt;p&gt;avail Mem:可用内存大小，和swap无关&lt;/p&gt;
&lt;p&gt;top是一个交互式的命令&lt;/p&gt;
&lt;p&gt;也就是使用了top 可以按对应的键看不同信息&lt;/p&gt;
&lt;p&gt;1 查看1号cpu的各核使用情况&lt;/p&gt;
&lt;p&gt;M 进程按内存使用倒序&lt;/p&gt;
&lt;p&gt;P 进程按cpu使用倒序&lt;/p&gt;
&lt;p&gt;H 查看线程情况&lt;/p&gt;
&lt;p&gt;c 查看进程的完整命令行&lt;/p&gt;
&lt;p&gt;&amp;lt;,&amp;gt;,R 调整排序列&lt;/p&gt;
&lt;p&gt;o,&amp;#x3D; o添加过滤条件，例如 command&amp;#x3D;java &lt;/p&gt;
&lt;p&gt;q 退出top&lt;/p&gt;
&lt;p&gt;vmstat 命令&lt;/p&gt;
&lt;p&gt;1s显示一次，第一行是系统启动以来的统计信息，一般可以忽略不看&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.nlark.com/yuque/0/2025/png/39206930/1744818599063-7561a10a-64b7-4630-8105-dbf23d0f0ac8.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;r:cpu运行队列长度，也就是有多少线程等待操作系统调度运行。&lt;/p&gt;
&lt;p&gt;b:不可中断阻塞的线程数量，一般就算阻塞于io访问的线程数量&lt;/p&gt;
&lt;p&gt;swpd：内存交换到磁盘的内存大小&lt;/p&gt;
&lt;p&gt;free：剩余内存大小 单位kb&lt;/p&gt;
&lt;p&gt;buff：用于buff的内存大小，单位kb&lt;/p&gt;
&lt;p&gt;cache：用于文件页面缓存的内存大小 单位kb&lt;/p&gt;
&lt;p&gt;si: 磁盘换入到内存的当前速度，单位kb&amp;#x2F;s&lt;/p&gt;
&lt;p&gt;so内存换出到磁盘的当前速度，单位kb&amp;#x2F;s&lt;/p&gt;
&lt;p&gt;bi 每秒读取磁盘块数量，blocks&amp;#x2F;s&lt;/p&gt;
&lt;p&gt;bo 每秒写入的磁盘块数量 block&amp;#x2F;s&lt;/p&gt;
&lt;p&gt;in 每秒中断数量&lt;/p&gt;
&lt;p&gt;cs每秒切换上下文次数&lt;/p&gt;
&lt;p&gt;us cpu用户态使用率&lt;/p&gt;
&lt;p&gt;sy cpu内核态使用率&lt;/p&gt;
&lt;p&gt;id cpu空闲率&lt;/p&gt;
&lt;p&gt;wa 等待io 线程被阻塞 等待磁盘io时的cpu空闲时间占比&lt;/p&gt;
&lt;p&gt;st  steal偷取，cpu在虚拟化环境下在其他租户上的开销&lt;/p&gt;
&lt;p&gt;free命令 查看内存使用 -m是mb为单位&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.nlark.com/yuque/0/2025/png/39206930/1744819579276-4c3c4406-fe92-4a5f-80c5-5d2c8a2ec4bf.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;和top中内存部分类似，有一个经验知识：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;free: Linux中随着使用时间越长，free会越来越小，因为linux会把访问的文件数据经可能缓存在内存中，&lt;/li&gt;
&lt;li&gt;availble 系统真正的可用内存，约等于free+buff&amp;#x2F;cache&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;slabtop命令 &lt;/p&gt;
&lt;p&gt;slab是linux基于对象的一种内存分配机制，类似于对象池的概念，当linux需要一个内核对象时，如果slab中有，就可以直接获取对象，而不用申请内存块&lt;/p&gt;
&lt;p&gt;磁盘资源：&lt;/p&gt;
&lt;p&gt;df命令:&lt;img data-src=&#34;https://cdn.nlark.com/yuque/0/2025/png/39206930/1744820505844-3e42468d-c635-4e85-9f69-b4b14b6706ac.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;iostat:命令&lt;/p&gt;
&lt;h3 id=&#34;sar命令&#34;&gt;&lt;a href=&#34;#sar命令&#34; class=&#34;headerlink&#34; title=&#34;sar命令&#34;&gt;&lt;/a&gt;sar命令&lt;/h3&gt;&lt;p&gt;sar是应该全方位的命令，这个命令背熟了可以替代前面的命令 ，使用  yum install sysstat 安装&lt;/p&gt;
&lt;h4 id=&#34;cpu观测&#34;&gt;&lt;a href=&#34;#cpu观测&#34; class=&#34;headerlink&#34; title=&#34;cpu观测&#34;&gt;&lt;/a&gt;cpu观测&lt;/h4&gt;&lt;p&gt;命令 sar -u  例如 sar -u 1 3 每间隔1秒统计1次 共统计3次&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@localhost&lt;/span&gt; ~]# sar -q &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Linux &lt;span class=&#34;number&#34;&gt;3.10&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.0&lt;/span&gt;-&lt;span class=&#34;number&#34;&gt;1160.&lt;/span&gt;el7.x86_64 (localhost.localdomain)    &lt;span class=&#34;number&#34;&gt;2025&lt;/span&gt;年&lt;span class=&#34;number&#34;&gt;04&lt;/span&gt;月&lt;span class=&#34;number&#34;&gt;26&lt;/span&gt;日  _x86_64_        (&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; CPU)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;46&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;49&lt;/span&gt;秒   runq-sz  plist-sz   ldavg-&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;   ldavg-&lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;  ldavg-&lt;span class=&#34;number&#34;&gt;15&lt;/span&gt;   blocked&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;46&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;50&lt;/span&gt;秒         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;       &lt;span class=&#34;number&#34;&gt;187&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.01&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.04&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.05&lt;/span&gt;         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;46&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;51&lt;/span&gt;秒         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;       &lt;span class=&#34;number&#34;&gt;187&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.01&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.04&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.05&lt;/span&gt;         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;46&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;52&lt;/span&gt;秒         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;       &lt;span class=&#34;number&#34;&gt;187&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.01&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.04&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.05&lt;/span&gt;         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;平均时间:         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;       &lt;span class=&#34;number&#34;&gt;187&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.01&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.04&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.05&lt;/span&gt;         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;%user #用户空间的CPU使用&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;%nice 改变过优先级的进程的CPU使用率&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;%system 内核空间的CPU使用率&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;%iowait CPU等待IO的百分比&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;%steal 虚拟机的虚拟机CPU使用的CPU&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;%idle 空闲的CPU&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;在以上的显示当中，主要看%iowait和%idle，%iowait过高表示存在I&amp;#x2F;O瓶颈，即磁盘IO无法满足业务需求，如果%idle过低表示CPU使用率比较严重，需要结合内存使用等情况判断CPU是否瓶颈。&lt;/font&gt;&lt;/p&gt;
&lt;h4 id=&#34;平均负载统计分析&#34;&gt;&lt;a href=&#34;#平均负载统计分析&#34; class=&#34;headerlink&#34; title=&#34;平均负载统计分析&#34;&gt;&lt;/a&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;平均负载统计分析&lt;/font&gt;&lt;/h4&gt;&lt;p&gt;命令 sar -q 例如 sar -q 1 3  每间隔1秒统计1次 共统计3次&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@localhost&lt;/span&gt; ~]# sar -q &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Linux &lt;span class=&#34;number&#34;&gt;3.10&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.0&lt;/span&gt;-&lt;span class=&#34;number&#34;&gt;1160.&lt;/span&gt;el7.x86_64 (localhost.localdomain)    &lt;span class=&#34;number&#34;&gt;2025&lt;/span&gt;年&lt;span class=&#34;number&#34;&gt;04&lt;/span&gt;月&lt;span class=&#34;number&#34;&gt;26&lt;/span&gt;日  _x86_64_        (&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; CPU)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;46&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;49&lt;/span&gt;秒   runq-sz  plist-sz   ldavg-&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;   ldavg-&lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;  ldavg-&lt;span class=&#34;number&#34;&gt;15&lt;/span&gt;   blocked&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;46&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;50&lt;/span&gt;秒         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;       &lt;span class=&#34;number&#34;&gt;187&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.01&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.04&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.05&lt;/span&gt;         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;46&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;51&lt;/span&gt;秒         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;       &lt;span class=&#34;number&#34;&gt;187&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.01&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.04&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.05&lt;/span&gt;         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;46&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;52&lt;/span&gt;秒         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;       &lt;span class=&#34;number&#34;&gt;187&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.01&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.04&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.05&lt;/span&gt;         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;平均时间:         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;       &lt;span class=&#34;number&#34;&gt;187&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.01&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.04&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.05&lt;/span&gt;         &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;runq-sz 运行队列的长度（等待运行的进程数，每核的CP不能超过3个）&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;plist-sz 进程列表中的进程（processes）和线程数（threads）的数量&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;ldavg-1 最后1分钟的CPU平均负载，即将多核CPU过去一分钟的负载相加再除以核心数得出的平均值，5分钟和15分钟以此类推&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;ldavg-5 最后5分钟的CPU平均负载&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;ldavg-15 最后15分钟的CPU平均负载&lt;/font&gt;&lt;/p&gt;
&lt;h4 id=&#34;内存统计分析&#34;&gt;&lt;a href=&#34;#内存统计分析&#34; class=&#34;headerlink&#34; title=&#34;内存统计分析&#34;&gt;&lt;/a&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;内存统计分析&lt;/font&gt;&lt;/h4&gt;&lt;p&gt;sar -r 1 3     每间隔1秒统计1次 共统计3次&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@localhost&lt;/span&gt; ~]# sar -r &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Linux &lt;span class=&#34;number&#34;&gt;3.10&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.0&lt;/span&gt;-&lt;span class=&#34;number&#34;&gt;1160.&lt;/span&gt;el7.x86_64 (localhost.localdomain)    &lt;span class=&#34;number&#34;&gt;2025&lt;/span&gt;年&lt;span class=&#34;number&#34;&gt;04&lt;/span&gt;月&lt;span class=&#34;number&#34;&gt;26&lt;/span&gt;日  _x86_64_        (&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; CPU)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;50&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;04&lt;/span&gt;秒 kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;50&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;05&lt;/span&gt;秒   &lt;span class=&#34;number&#34;&gt;3262412&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;618100&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;15.93&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;2108&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;291468&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;306820&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;3.86&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;244056&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;125584&lt;/span&gt;        &lt;span class=&#34;number&#34;&gt;24&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;50&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;06&lt;/span&gt;秒   &lt;span class=&#34;number&#34;&gt;3262116&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;618396&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;15.94&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;2108&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;291472&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;307088&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;3.87&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;244136&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;125584&lt;/span&gt;        &lt;span class=&#34;number&#34;&gt;28&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;50&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;07&lt;/span&gt;秒   &lt;span class=&#34;number&#34;&gt;3262288&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;618224&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;15.93&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;2108&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;291476&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;306820&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;3.86&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;243952&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;125584&lt;/span&gt;        &lt;span class=&#34;number&#34;&gt;20&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;平均时间:   &lt;span class=&#34;number&#34;&gt;3262272&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;618240&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;15.93&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;2108&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;291472&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;306909&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;3.86&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;244048&lt;/span&gt;    &lt;span class=&#34;number&#34;&gt;125584&lt;/span&gt;        &lt;span class=&#34;number&#34;&gt;24&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@localhost&lt;/span&gt; ~]# &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;kbmemfree 空闲的物理内存大小&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;kbmemused 使用中的物理内存大小&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;%memused 物理内存使用率&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;kbbuffers 内核中作为缓冲区使用的物理内存大小，kbbuffers和kbcached:这两个值就是free命令中的buffer和cache.&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;kbcached 缓存的文件大小&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;kbcommit 保证当前系统正常运行所需要的最小内存，即为了确保内存不溢出而需要的最少内存（物理内存+Swap分区）&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;commit 这个值是kbcommit与内存总量（物理内存+swap分区）的一个百分比的值&lt;/font&gt;&lt;/p&gt;
&lt;h4 id=&#34;统计swap分区&#34;&gt;&lt;a href=&#34;#统计swap分区&#34; class=&#34;headerlink&#34; title=&#34;统计swap分区&#34;&gt;&lt;/a&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;统计swap分区&lt;/font&gt;&lt;/h4&gt;&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;查看系统swap分区的统计信息：每间隔1秒钟统计一次总共统计三次：#sar -W 1 3&lt;/font&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@localhost&lt;/span&gt; ~]# sar -W &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Linux &lt;span class=&#34;number&#34;&gt;3.10&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.0&lt;/span&gt;-&lt;span class=&#34;number&#34;&gt;1160.&lt;/span&gt;el7.x86_64 (localhost.localdomain)    &lt;span class=&#34;number&#34;&gt;2025&lt;/span&gt;年&lt;span class=&#34;number&#34;&gt;04&lt;/span&gt;月&lt;span class=&#34;number&#34;&gt;26&lt;/span&gt;日  _x86_64_        (&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; CPU)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;53&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;42&lt;/span&gt;秒  pswpin/s pswpout/s&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;53&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;43&lt;/span&gt;秒      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;53&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;44&lt;/span&gt;秒      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;53&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;45&lt;/span&gt;秒      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;平均时间:      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;pswpin&amp;#x2F;s 每秒从交换分区到系统的交换页面（swap page）数量&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;pswpott&amp;#x2F;s 每秒从系统交换到swap的交换页面（swap page）的数量&lt;/font&gt;&lt;/p&gt;
&lt;h4 id=&#34;查看磁盘IO&#34;&gt;&lt;a href=&#34;#查看磁盘IO&#34; class=&#34;headerlink&#34; title=&#34;查看磁盘IO&#34;&gt;&lt;/a&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;查看磁盘IO&lt;/font&gt;&lt;/h4&gt;&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;sar -b #查看I&amp;#x2F;O和传递速率的统计信息，&lt;/font&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@localhost&lt;/span&gt; ~]# sar -b &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Linux &lt;span class=&#34;number&#34;&gt;3.10&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.0&lt;/span&gt;-&lt;span class=&#34;number&#34;&gt;1160.&lt;/span&gt;el7.x86_64 (localhost.localdomain)    &lt;span class=&#34;number&#34;&gt;2025&lt;/span&gt;年&lt;span class=&#34;number&#34;&gt;04&lt;/span&gt;月&lt;span class=&#34;number&#34;&gt;26&lt;/span&gt;日  _x86_64_        (&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; CPU)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;55&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;17&lt;/span&gt;秒       tps      rtps      wtps   bread/s   bwrtn/s&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;55&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;18&lt;/span&gt;秒      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;55&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;19&lt;/span&gt;秒      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;55&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;20&lt;/span&gt;秒      &lt;span class=&#34;number&#34;&gt;2.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;2.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;42.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;平均时间:      &lt;span class=&#34;number&#34;&gt;0.67&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.67&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;14.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@localhost&lt;/span&gt; ~]# &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;tps 磁盘每秒钟的IO总数，等于iostat中的tps&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;rtps 每秒钟从磁盘读取的IO总数&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;wtps 每秒钟从写入到磁盘的IO总数&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;bread&amp;#x2F;s 每秒钟从磁盘读取的块总数&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;bwrtn&amp;#x2F;s 每秒钟此写入到磁盘的块总数&lt;/font&gt;&lt;/p&gt;
&lt;h4 id=&#34;磁盘使用详情统计&#34;&gt;&lt;a href=&#34;#磁盘使用详情统计&#34; class=&#34;headerlink&#34; title=&#34;磁盘使用详情统计&#34;&gt;&lt;/a&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;磁盘使用详情统计&lt;/font&gt;&lt;/h4&gt;&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;sar -d #磁盘使用详情统计&lt;/font&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@localhost&lt;/span&gt; ~]# sar -d&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Linux &lt;span class=&#34;number&#34;&gt;3.10&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.0&lt;/span&gt;-&lt;span class=&#34;number&#34;&gt;1160.&lt;/span&gt;el7.x86_64 (localhost.localdomain)    &lt;span class=&#34;number&#34;&gt;2025&lt;/span&gt;年&lt;span class=&#34;number&#34;&gt;04&lt;/span&gt;月&lt;span class=&#34;number&#34;&gt;26&lt;/span&gt;日  _x86_64_        (&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; CPU)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;40&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;02&lt;/span&gt;秒       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;50&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;01&lt;/span&gt;秒    dev8-&lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.80&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;21.61&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;27.14&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;3.87&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;1.82&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.14&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;50&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;01&lt;/span&gt;秒  dev253-&lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.83&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;21.55&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;25.97&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;3.83&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;1.75&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.15&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;50&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;01&lt;/span&gt;秒  dev253-&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;平均时间:    dev8-&lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.80&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;21.61&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;27.14&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;3.87&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;1.82&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.14&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;平均时间:  dev253-&lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.83&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;21.55&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;25.97&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;3.83&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;1.75&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.15&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;平均时间:  dev253-&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@localhost&lt;/span&gt; ~]# &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;DEV 磁盘设备的名称，如果不加-p，会显示dev253-0类似的设备名称，因此加上-p显示的名称更直接&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;tps：每秒I&amp;#x2F;O的传输总数&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;rd_sec&amp;#x2F;s 每秒读取的扇区的总数&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;wr_sec&amp;#x2F;s 每秒写入的扇区的总数&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;avgrq-sz 平均每次次磁盘I&amp;#x2F;O操作的数据大小（扇区）&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;avgqu-sz 磁盘请求队列的平均长度&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;await 从请求磁盘操作到系统完成处理，每次请求的平均消耗时间，包括请求队列等待时间，单位是毫秒（1秒等于1000毫秒），等于寻道时间+队列时间+服务时间&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;svctm I&amp;#x2F;O的服务处理时间，即不包括请求队列中的时间&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;%util I&amp;#x2F;O请求占用的CPU百分比，值越高，说明I&amp;#x2F;O越慢&lt;/font&gt;&lt;/p&gt;
&lt;h4 id=&#34;网络使用分析&#34;&gt;&lt;a href=&#34;#网络使用分析&#34; class=&#34;headerlink&#34; title=&#34;网络使用分析&#34;&gt;&lt;/a&gt;网络使用分析&lt;/h4&gt;&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;sar -n #统计网络信息&lt;/font&gt;&lt;br&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;sar -n选项使用6个不同的开关：DEV，EDEV，NFS，NFSD，SOCK，IP，EIP，ICMP，EICMP，TCP，ETCP，UDP，SOCK6，IP6，EIP6，ICMP6，EICMP6和UDP6 ，DEV显示网络接口信息，EDEV显示关于网络错误的统计数据，NFS统计活动的NFS客户端的信息，NFSD统计NFS服务器的信息，SOCK显示套接字信息，ALL显示所有5个开关。它们可以单独或者一起使用。&lt;/font&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@localhost&lt;/span&gt; ~]# sar -n DEV &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Linux &lt;span class=&#34;number&#34;&gt;3.10&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.0&lt;/span&gt;-&lt;span class=&#34;number&#34;&gt;1160.&lt;/span&gt;el7.x86_64 (localhost.localdomain)    &lt;span class=&#34;number&#34;&gt;2025&lt;/span&gt;年&lt;span class=&#34;number&#34;&gt;04&lt;/span&gt;月&lt;span class=&#34;number&#34;&gt;26&lt;/span&gt;日  _x86_64_        (&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; CPU)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;58&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;50&lt;/span&gt;秒     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;58&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;51&lt;/span&gt;秒    ens192     &lt;span class=&#34;number&#34;&gt;21.00&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;24.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;3.23&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;5.07&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;58&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;51&lt;/span&gt;秒        lo      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;58&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;51&lt;/span&gt;秒     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;58&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;52&lt;/span&gt;秒    ens192     &lt;span class=&#34;number&#34;&gt;29.00&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;35.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;3.25&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;9.99&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;58&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;52&lt;/span&gt;秒        lo      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;^C&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;58&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;52&lt;/span&gt;秒     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;58&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;53&lt;/span&gt;秒    ens192     &lt;span class=&#34;number&#34;&gt;15.22&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;21.74&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;1.53&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;2.74&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;58&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;53&lt;/span&gt;秒        lo      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;平均时间:     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;平均时间:    ens192     &lt;span class=&#34;number&#34;&gt;21.92&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;27.05&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;2.70&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;6.02&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;平均时间:        lo      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@localhost&lt;/span&gt; ~]# &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;IFACE 网卡名称&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;rxerr&amp;#x2F;s 每秒钟接收到的损坏的数据包&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;txerr&amp;#x2F;s 每秒钟发送的数据包错误数&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;coll&amp;#x2F;s 当发送数据包时候，每秒钟发生的冲撞（collisions）数，这个是在半双工模式下才有&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;rxdrop&amp;#x2F;s 当由于缓冲区满的时候，网卡设备接收端每秒钟丢掉的网络包的数目&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;txdrop&amp;#x2F;s 当由于缓冲区满的时候，网络设备发送端每秒钟丢掉的网络包的数目&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;txcarr&amp;#x2F;s 当发送数据包的时候，每秒钟载波错误发生的次数&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;rxfram 在接收数据包的时候，每秒钟发生的帧对其错误的次数&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;rxfifo 在接收数据包的时候，每秒钟缓冲区溢出的错误发生的次数&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;txfifo 在发生数据包 的时候，每秒钟缓冲区溢出的错误发生的次数&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;1.10.3：sar -n SOCK 1 1 #统计socket连接信息&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;sar -n SOCK 1 1 #统计socket连接信息&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;totsck 当前被使用的socket总数&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;tcpsck 当前正在被使用的TCP的socket总数&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;udpsck 当前正在被使用的UDP的socket总数&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;rawsck 当前正在被使用于RAW的skcket总数&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;if-frag 当前的IP分片的数目&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;tcp-tw TCP套接字中处于TIME-WAIT状态的连接数量&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;########如果你使用FULL关键字，相当于上述DEV、EDEV和SOCK三者的综合&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;sar -n TCP 1 3 #TCP连接的统计&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;active&amp;#x2F;s 新的主动连接&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;passive&amp;#x2F;s 新的被动连接&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;iseg&amp;#x2F;s 接受的段&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;oseg&amp;#x2F;s 输出的段&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;sar -n 使用总结&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;-n DEV ： 网络接口统计信息。&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;-n EDEV ： 网络接口错误。&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;-n IP ： IP数据报统计信息。&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;-n EIP ： IP错误统计信息。&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;-n TCP ： TCP统计信息。&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;-n ETCP ： TCP错误统计信息。&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;-n SOCK ： 套接字使用。&lt;/font&gt;&lt;/p&gt;
&lt;h4 id=&#34;进程，文件状态&#34;&gt;&lt;a href=&#34;#进程，文件状态&#34; class=&#34;headerlink&#34; title=&#34;进程，文件状态&#34;&gt;&lt;/a&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;进程，文件状态&lt;/font&gt;&lt;/h4&gt;&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;sar -v #进程、inode、文件和锁表状态 ，每间隔1秒钟统计一次总共统计三次：#sar -v 1 3&lt;/font&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@localhost&lt;/span&gt; ~]# sar -v &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Linux &lt;span class=&#34;number&#34;&gt;3.10&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.0&lt;/span&gt;-&lt;span class=&#34;number&#34;&gt;1160.&lt;/span&gt;el7.x86_64 (localhost.localdomain)    &lt;span class=&#34;number&#34;&gt;2025&lt;/span&gt;年&lt;span class=&#34;number&#34;&gt;04&lt;/span&gt;月&lt;span class=&#34;number&#34;&gt;26&lt;/span&gt;日  _x86_64_        (&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; CPU)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;59&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;59&lt;/span&gt;秒 dentunusd   file-nr  inode-nr    pty-nr&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;12&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;00&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;00&lt;/span&gt;秒     &lt;span class=&#34;number&#34;&gt;22736&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;1280&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;26803&lt;/span&gt;         &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;12&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;00&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;01&lt;/span&gt;秒     &lt;span class=&#34;number&#34;&gt;22747&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;1280&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;26810&lt;/span&gt;         &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;12&lt;/span&gt;时&lt;span class=&#34;number&#34;&gt;00&lt;/span&gt;分&lt;span class=&#34;number&#34;&gt;02&lt;/span&gt;秒     &lt;span class=&#34;number&#34;&gt;22747&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;1280&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;26810&lt;/span&gt;         &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;平均时间:     &lt;span class=&#34;number&#34;&gt;22743&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;1280&lt;/span&gt;     &lt;span class=&#34;number&#34;&gt;26808&lt;/span&gt;         &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;dentunusd 在缓冲目录条目中没有使用的条目数量&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;file-nr 被系统使用的文件句柄数量&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;inode-nr 已经使用的索引数量&lt;br&gt;&lt;/font&gt;&lt;font style=&#34;color:rgb(0, 0, 0);&#34;&gt;pty-nr 使用的pty数量&lt;/font&gt;&lt;/p&gt;
&lt;h4 id=&#34;扩展&#34;&gt;&lt;a href=&#34;#扩展&#34; class=&#34;headerlink&#34; title=&#34;扩展&#34;&gt;&lt;/a&gt;扩展&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;默认监控: sar &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;     &lt;span class=&#34;comment&#34;&gt;//  CPU和IOWAIT统计状态 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) sar -b &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;        &lt;span class=&#34;comment&#34;&gt;// IO传送速率&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;) sar -B &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;        &lt;span class=&#34;comment&#34;&gt;// 页交换速率&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;) sar -c &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;        &lt;span class=&#34;comment&#34;&gt;// 进程创建的速率&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;4&lt;/span&gt;) sar -d &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;        &lt;span class=&#34;comment&#34;&gt;// 块设备的活跃信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;) sar -n DEV &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;    &lt;span class=&#34;comment&#34;&gt;// 网路设备的状态信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;6&lt;/span&gt;) sar -n SOCK &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;   &lt;span class=&#34;comment&#34;&gt;// SOCK的使用情况&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;7&lt;/span&gt;) sar -n ALL &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;    &lt;span class=&#34;comment&#34;&gt;// 所有的网络状态信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;8&lt;/span&gt;) sar -P ALL &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;    &lt;span class=&#34;comment&#34;&gt;// 每颗CPU的使用状态信息和IOWAIT统计状态 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;9&lt;/span&gt;) sar -q &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;        &lt;span class=&#34;comment&#34;&gt;// 队列的长度（等待运行的进程数）和负载的状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;10&lt;/span&gt;) sar -r &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;       &lt;span class=&#34;comment&#34;&gt;// 内存和swap空间使用情况&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;) sar -R &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;       &lt;span class=&#34;comment&#34;&gt;// 内存的统计信息（内存页的分配和释放、系统每秒作为BUFFER使用内存页、每秒被cache到的内存页）&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;12&lt;/span&gt;) sar -u &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;       &lt;span class=&#34;comment&#34;&gt;// CPU的使用情况和IOWAIT信息（同默认监控）&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;13&lt;/span&gt;) sar -v &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;       &lt;span class=&#34;comment&#34;&gt;// inode, file and other kernel tablesd的状态信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;14&lt;/span&gt;) sar -w &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;       &lt;span class=&#34;comment&#34;&gt;// 每秒上下文交换的数目&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;15&lt;/span&gt;) sar -W &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;       &lt;span class=&#34;comment&#34;&gt;// SWAP交换的统计信息(监控状态同iostat 的si so)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;16&lt;/span&gt;) sar -x &lt;span class=&#34;number&#34;&gt;2906&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;  &lt;span class=&#34;comment&#34;&gt;// 显示指定进程(2906)的统计信息，信息包括：进程造成的错误、用户级和系统级用户CPU的占用情况、运行在哪颗CPU上&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;number&#34;&gt;17&lt;/span&gt;) sar -y &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;       &lt;span class=&#34;comment&#34;&gt;// TTY设备的活动状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;h3 id=&#34;USE观测法&#34;&gt;&lt;a href=&#34;#USE观测法&#34; class=&#34;headerlink&#34; title=&#34;USE观测法&#34;&gt;&lt;/a&gt;USE观测法&lt;/h3&gt;&lt;p&gt;使用率&lt;/p&gt;
&lt;p&gt;饱和度&lt;/p&gt;
&lt;p&gt;错误&lt;/p&gt;
&lt;p&gt;以Java线程池为例，&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;线程池是一个软件资源，&lt;/li&gt;
&lt;li&gt;线程池的使用率：正在运行线程数占线程池总线程数百分比&lt;/li&gt;
&lt;li&gt;线程池饱和度：目前正在线程池任务队列中排队的任务数量&lt;/li&gt;
&lt;li&gt;线程池的错误：触发线程池拒绝策略的次数&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;场景问题分析&#34;&gt;&lt;a href=&#34;#场景问题分析&#34; class=&#34;headerlink&#34; title=&#34;场景问题分析&#34;&gt;&lt;/a&gt;场景问题分析&lt;/h2&gt;&lt;p&gt;CPU占用高：&lt;/p&gt;
&lt;p&gt;适合自下向上去分析:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;用户态还是内核态高 &lt;/li&gt;
&lt;li&gt;什么进程占用cpu多  &lt;/li&gt;
&lt;li&gt;什么线程占用多 然&lt;/li&gt;
&lt;li&gt;什么调用栈占用cpu多&lt;/li&gt;
&lt;li&gt;什么请求占用cpu多&lt;/li&gt;
&lt;li&gt;&lt;img data-src=&#34;https://cdn.nlark.com/yuque/0/2025/png/39206930/1745642060360-37129ef5-fb6f-45c4-a59d-5a90db48c421.png&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;示例：通过top命令可以识别出是进程(用户态)占用高  还是内核占用高&lt;/p&gt;
&lt;p&gt;示例 就可以使用 top发现是那个进程占用高， 然后使用top -h -p pid 就可以发现是什么线程占用高&lt;/p&gt;
&lt;p&gt;示例 可以使用jstack 查看线程栈  jstack pid &amp;gt;stack.log 然后可以使用awk过滤指定线程栈&lt;/p&gt;
&lt;p&gt;找线程和找线程栈是分两步进行的，但是可能来不及， 可以使用arthas的命令去 它可以将两步合并为一步&lt;/p&gt;
&lt;p&gt;arthas是基于Java的，对于非Java进程，可以使用perf record或者bcc中的命令&lt;/p&gt;
&lt;h3 id=&#34;系统态（内核态）cpu高：&#34;&gt;&lt;a href=&#34;#系统态（内核态）cpu高：&#34; class=&#34;headerlink&#34; title=&#34;系统态（内核态）cpu高：&#34;&gt;&lt;/a&gt;系统态（内核态）cpu高：&lt;/h3&gt;&lt;p&gt;系统态主要是 系统调用，中断、内核线程 这三部分组成&lt;/p&gt;
&lt;h4 id=&#34;系统调用：&#34;&gt;&lt;a href=&#34;#系统调用：&#34; class=&#34;headerlink&#34; title=&#34;系统调用：&#34;&gt;&lt;/a&gt;系统调用：&lt;/h4&gt;&lt;p&gt;系统调用是操作系统提供给用户空间程序的一种接口，允许程序请求操作系统的服务，例如访问磁盘(open,read,write) 网络(socket&amp;#x2F;recvfrom&amp;#x2F;sendto）等 内核收到系统调用请求后会先切换到内核态，然后执行相应处理逻辑&lt;/p&gt;
&lt;p&gt;系统调用：由于系统调用是由用户进程触发，可以通过bcc的syscount命令来检查系统调用情况，以及那些进程的系统调用多，&lt;/p&gt;
&lt;h4 id=&#34;中断：&#34;&gt;&lt;a href=&#34;#中断：&#34; class=&#34;headerlink&#34; title=&#34;中断：&#34;&gt;&lt;/a&gt;中断：&lt;/h4&gt;&lt;p&gt;是指计算机在执行程序过程中，由于某些紧急事件或外部设备的请求，暂时停止当前程序执行，转而去处理更优先的任务，处理完这个紧急任务后，计算机系统会返回到被中断地方，继续执行，比如磁盘中断、网络中断&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;硬中断：由硬件之间触发，由于硬中断执行过程中，一般需要禁用中断后再处理，因此硬中断需要能快速执行完以避免其他中断信号丢失&lt;/li&gt;
&lt;li&gt;软中断：为了尽可能块执行完硬中断，减少禁用时间，linux设计实现了软中断，用于处理中断中可以延迟处理的部分&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;中断可以使用bcc工具 hardirqs和softirqs来诊断&lt;/p&gt;
&lt;h4 id=&#34;内核线程：&#34;&gt;&lt;a href=&#34;#内核线程：&#34; class=&#34;headerlink&#34; title=&#34;内核线程：&#34;&gt;&lt;/a&gt;内核线程：&lt;/h4&gt;&lt;p&gt;linux内核管理着1批内核线程，用来执行特定的任务，如kswapd处理内存回收，ksoftirqd处理软中断等。&lt;/p&gt;
&lt;p&gt;内核线程： 内核线程可以通过pidstat的%system来确认，内核线程一般是以k开头&lt;/p&gt;
&lt;h3 id=&#34;空闲cpu使用率高&#34;&gt;&lt;a href=&#34;#空闲cpu使用率高&#34; class=&#34;headerlink&#34; title=&#34;空闲cpu使用率高&#34;&gt;&lt;/a&gt;空闲cpu使用率高&lt;/h3&gt;&lt;p&gt;情况1 id%使用率高&lt;/p&gt;
&lt;p&gt;这种是空闲cpu使用 &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;系统负载不大，可能是没有业务流量，或者是网络丢包导致流量未进系统，例如tcp连接队列或者socket接受缓存配置过小&lt;/li&gt;
&lt;li&gt;线程都被阻塞，无线程占用cpu资源，这种情况下请求耗时会增加，&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;情况2 wa%使用率高&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;线程阻塞再磁盘访问上，检查磁盘性能指标 使用iostat或者ioping命令检查磁盘性能是否退化&lt;/li&gt;
&lt;li&gt;使用了nfs之类的网络存储 由于网络较慢 wa高可能也是正常的&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.nlark.com/yuque/0/2025/png/39206930/1745642348328-357af96e-a70b-48b7-b3a3-bc2e158b577b.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.nlark.com/yuque/0/2025/png/39206930/1745642233132-ff5ae61a-e6ba-49da-a82f-ddd235b86621.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.nlark.com/yuque/0/2025/png/39206930/1745642262206-d910e0ee-251c-412e-a239-4300858dc932.png&#34;&gt;&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
